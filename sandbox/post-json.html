<!DOCTYPE html>
<html>
<body>
  <!-- sends bob json file-->
  <br>
  <button onclick="sendBob()">Send JSON (bob)</button>

  <!-- takes user input and saves json-->
  <br>
  <form id="excerptForm">
    <input type="text" id="title" placeholder="Title" required><br><br>
    <textarea id="body" placeholder="Excerpt body" required></textarea><br><br>
    <button type="submit">Submit</button>
  </form>

  <script>
    document.getElementById('excerptForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      const timestampMs = Date.now();
      const title = document.getElementById('title').value;
      const body = document.getElementById('body').value;

      const response = await fetch('http://192.168.1.100:3000/save-json-ts', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ timeStamp: timestampMs, title, body })
      });

      if (response.ok) {
        alert('Excerpt saved!');
      } else {
        alert('Failed to save.');
      }
    });
    function bobData() {
      fetch('http://192.168.1.100:3000/save-json', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name: 'Bob', age: 25 })
      })
      .then(response => response.text())
      .then(alert)
      .catch(console.error);
    }
  </script>
</body>
</html>
